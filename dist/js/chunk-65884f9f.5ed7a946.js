(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65884f9f"],{"36bd":function(t,e,i){"use strict";var r=i("4bf8"),n=i("77f1"),a=i("9def");t.exports=function(t){var e=r(this),i=a(e.length),o=arguments.length,s=n(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,h=void 0===c?i:n(c,i);while(h>s)e[s++]=t;return e}},"6c7b":function(t,e,i){var r=i("5ca1");r(r.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},"7e6e":function(t,e,i){},"96cf":function(t,e){!function(e){"use strict";var i,r=Object.prototype,n=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",h="object"===typeof t,u=e.regeneratorRuntime;if(u)h&&(t.exports=u);else{u=e.regeneratorRuntime=h?t.exports:{},u.wrap=x;var f="suspendedStart",l="suspendedYield",d="executing",p="completed",v={},g={};g[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==r&&n.call(y,o)&&(g=y);var w=P.prototype=L.prototype=Object.create(g);S.prototype=w.constructor=P,P.constructor=S,P[c]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},u.awrap=function(t){return{__await:t}},k(E.prototype),E.prototype[s]=function(){return this},u.AsyncIterator=E,u.async=function(t,e,i,r){var n=new E(x(t,e,i,r));return u.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},k(w),w[c]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},u.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=i),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(c&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),_(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;_(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=i),v}}}function x(t,e,i,r){var n=e&&e.prototype instanceof L?e:L,a=Object.create(n.prototype),o=new O(r||[]);return a._invoke=M(t,i,o),a}function b(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function L(){}function S(){}function P(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){function e(i,r,a,o){var s=b(t[i],t,r);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(h).then(function(t){c.value=t,a(c)},o)}o(s.arg)}var i;function r(t,r){function n(){return new Promise(function(i,n){e(t,r,i,n)})}return i=i?i.then(n,n):n()}this._invoke=r}function M(t,e,i){var r=f;return function(n,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw a;return j()}i.method=n,i.arg=a;while(1){var o=i.delegate;if(o){var s=z(o,i);if(s){if(s===v)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=d;var c=b(t,e,i);if("normal"===c.type){if(r=i.done?p:l,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=p,i.method="throw",i.arg=c.arg)}}}function z(t,e){var r=t.iterator[e.method];if(r===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,z(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=b(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,v):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){while(++r<t.length)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=i,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},a3d2:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mapswiper"},[i("canvas",{attrs:{id:"mapswiper",width:""+t.width,height:""+t.height}})])},n=[];i("6c7b"),i("ac6a"),i("96cf");function a(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var a=t.apply(e,i);function o(t,e){try{var i=a[t](e),o=i.value}catch(t){return void n(t)}i.done?r(o):Promise.resolve(o).then(s,c)}function s(t){o("next",t)}function c(t){o("throw",t)}s()})}}var o=i("c665"),s=i("aa9a"),c={name:"mapSwiper",data:function(){return{width:1e3,height:500,combine:null,separate:null}},components:{},props:{},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){var e=t.initClass(),r=document.querySelector("#mapswiper");new e({canvas:r,ctx:r.getContext("2d"),imgs:[i("ba08"),i("c4ba"),i("d2aa"),i("a5be")],radius:1})})},methods:{initClass:function(){var t=function(){function t(e){Object(o["a"])(this,t),this.canvas=e.canvas,this.ctx=e.ctx,this.radius=e.radius,this.imgs=e.imgs,this.imgList=[],this.index=0,this.dots=[],this.initz=300,this.init()}return Object(s["a"])(t,[{key:"init",value:function(){this.canvas.width>500||this.canvas.height>300?this.radius>=4?this.radius=this.radius:this.radius=4:this.radius>=2?this.radius=this.radius:this.radius=2,this.loadImg()}},{key:"loadImg",value:function(){var t=a(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.imgs.map(function(t){return new Promise(function(e){var r=new Image;r.src=t,r.onload=function(){i.imgList.push(r),console.log(r.width,r.height),e()}})}),t.prev=1,t.next=4,Promise.all(e);case 4:this.createPic(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"createPic",value:function(){console.log("imgs init success!"),this.dots=[],this.drawPic(),this.toParticle(),this.combineAnimate(),this.index===this.imgs.length-1?this.index=0:this.index++}},{key:"drawPic",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.imgList[this.index];this.ctx.drawImage(t,this.canvas.width/2-t.width/2,0)}},{key:"toParticle",value:function(){for(var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),e=t.data,i=0;i<t.width;i+=2*this.radius)for(var r=0;r<t.height;r+=2*this.radius){var n=4*(i+r*this.canvas.width);if(0!==e[n+3]&&255!==e[n]&&255!==e[n+1]&&255!==e[n+2]){var a={x:i,y:r,z:0,r:e[n],g:e[n+1],b:e[n+2],a:1,ix:Math.random()*this.canvas.width,iy:Math.random()*this.canvas.height,iz:Math.random()*this.initz*2-this.initz,ir:255,ig:255,ib:255,ia:0,tx:Math.random()*this.canvas.width,ty:Math.random()*this.canvas.height,tz:Math.random()*this.initz*2-this.initz,tr:255,tg:255,tb:255,ta:0};this.dots.push(a)}}}},{key:"drowDot",value:function(t){var e=this.initz/(this.initz+t.iz);this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle="rgba(".concat(Math.floor(t.ir),", ").concat(Math.floor(t.ig),", ").concat(Math.floor(t.ib),", ").concat(t.ia,")"),this.ctx.arc(this.canvas.width/2+(t.ix-this.canvas.width/2)*e,this.canvas.height/2+(t.iy-this.canvas.height/2)*e,this.radius*e,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"combineAnimate",value:function(){var t=this,e=!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.dots.map(function(i){return Math.abs(i.ix-i.x)<.1&&Math.abs(i.iy-i.y)<.1&&Math.abs(i.iz-i.z)<.1?(i.ix=i.x,i.iy=i.y,i.iz=i.z,i.ir=i.r,i.ig=i.g,i.ib=i.b,i.ia=i.a,e=!0):(i.ix+=.07*(i.x-i.ix),i.iy+=.07*(i.y-i.iy),i.iz+=.07*(i.z-i.iz),i.ir+=.3*(i.r-i.ir),i.ig+=.3*(i.g-i.ig),i.ib+=.3*(i.b-i.ib),i.ia+=.1*(i.a-i.ia),e=!1),t.drowDot(i)}),e?setTimeout(function(){return t.separateAnimate()},1500):this.combine=requestAnimationFrame(function(){return t.combineAnimate()})}},{key:"separateAnimate",value:function(){var t=this,e=!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.dots.map(function(i){return Math.abs(i.ix-i.tx)<.1&&Math.abs(i.iy-i.ty)<.1&&Math.abs(i.iz-i.tz)<.1?(i.ix=i.tx,i.iy=i.ty,i.iz=i.tz,i.ir=i.tr,i.ig=i.tg,i.ib=i.tb,i.ia=i.ta,e=!0):(i.ix+=.07*(i.tx-i.ix),i.iy+=.07*(i.ty-i.iy),i.iz+=.07*(i.tz-i.iz),i.ir+=.02*(i.tr-i.ir),i.ig+=.02*(i.tg-i.ig),i.ib+=.02*(i.tb-i.ib),i.ia+=.03*(i.ta-i.ia),e=!1),t.drowDot(i)}),e?setTimeout(function(){return t.createPic()},100):this.separate=requestAnimationFrame(function(){return t.separateAnimate()})}}]),t}();return t}},computed:{},destroyed:function(){cancelAnimationFrame(this.combine),cancelAnimationFrame(this.separate)}},h=c,u=(i("dbf5"),i("2877")),f=Object(u["a"])(h,r,n,!1,null,"8456cf2c",null);f.options.__file="mapswiper.vue";e["default"]=f.exports},a5be:function(t,e,i){t.exports=i.p+"img/vinyltocat.db69ef18.png"},aa9a:function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}i.d(e,"a",function(){return n})},ac6a:function(t,e,i){for(var r=i("cadf"),n=i("0d58"),a=i("2aba"),o=i("7726"),s=i("32e9"),c=i("84f2"),h=i("2b4c"),u=h("iterator"),f=h("toStringTag"),l=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(d),v=0;v<p.length;v++){var g,m=p[v],y=d[m],w=o[m],x=w&&w.prototype;if(x&&(x[u]||s(x,u,l),x[f]||s(x,f,m),c[m]=l,y))for(g in r)x[g]||a(x,g,r[g],!0)}},ba08:function(t,e,i){t.exports=i.p+"img/minertocat.4b439472.png"},c4ba:function(t,e,i){t.exports=i.p+"img/inflatocat.cbce582a.png"},c665:function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",function(){return r})},d2aa:function(t,e,i){t.exports=i.p+"img/surftocat.c7bc670d.png"},dbf5:function(t,e,i){"use strict";var r=i("7e6e"),n=i.n(r);n.a}}]);