(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78bd9264"],{"36bd":function(t,i,e){"use strict";var r=e("4bf8"),n=e("77f1"),a=e("9def");t.exports=function(t){var i=r(this),e=a(i.length),o=arguments.length,s=n(o>1?arguments[1]:void 0,e),c=o>2?arguments[2]:void 0,h=void 0===c?e:n(c,e);while(h>s)i[s++]=t;return i}},"46fe":function(t,i,e){"use strict";var r=e("9ffa"),n=e.n(r);n.a},"6c7b":function(t,i,e){var r=e("5ca1");r(r.P,"Array",{fill:e("36bd")}),e("9c6c")("fill")},"96cf":function(t,i){!function(i){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",h="object"===typeof t,u=i.regeneratorRuntime;if(u)h&&(t.exports=u);else{u=i.regeneratorRuntime=h?t.exports:{},u.wrap=x;var f="suspendedStart",l="suspendedYield",d="executing",p="completed",v={},g={};g[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==r&&n.call(y,o)&&(g=y);var w=P.prototype=L.prototype=Object.create(g);S.prototype=w.constructor=P,P.constructor=S,P[c]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var i="function"===typeof t&&t.constructor;return!!i&&(i===S||"GeneratorFunction"===(i.displayName||i.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},u.awrap=function(t){return{__await:t}},k(E.prototype),E.prototype[s]=function(){return this},u.AsyncIterator=E,u.async=function(t,i,e,r){var n=new E(x(t,i,e,r));return u.isGeneratorFunction(i)?n:n.next().then(function(t){return t.done?t.value:n.next()})},k(w),w[c]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(t){var i=[];for(var e in t)i.push(e);return i.reverse(),function e(){while(i.length){var r=i.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},u.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],i=t.completion;if("throw"===i.type)throw i.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(r,n){return s.type="throw",s.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(c&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,i){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=i&&i<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=i,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),v},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),_(e),v}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var n=r.arg;_(e)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:A(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),v}}}function x(t,i,e,r){var n=i&&i.prototype instanceof L?i:L,a=Object.create(n.prototype),o=new O(r||[]);return a._invoke=M(t,e,o),a}function b(t,i,e){try{return{type:"normal",arg:t.call(i,e)}}catch(t){return{type:"throw",arg:t}}}function L(){}function S(){}function P(){}function k(t){["next","throw","return"].forEach(function(i){t[i]=function(t){return this._invoke(i,t)}})}function E(t){function i(e,r,a,o){var s=b(t[e],t,r);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):Promise.resolve(h).then(function(t){c.value=t,a(c)},o)}o(s.arg)}var e;function r(t,r){function n(){return new Promise(function(e,n){i(t,r,e,n)})}return e=e?e.then(n,n):n()}this._invoke=r}function M(t,i,e){var r=f;return function(n,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw a;return j()}e.method=n,e.arg=a;while(1){var o=e.delegate;if(o){var s=z(o,e);if(s){if(s===v)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=d;var c=b(t,i,e);if("normal"===c.type){if(r=e.done?p:l,c.arg===v)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=p,e.method="throw",e.arg=c.arg)}}}function z(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,z(t,i),"throw"===i.method))return v;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=b(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,v;var a=n.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function T(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function _(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}return{next:j}}function j(){return{value:e,done:!0}}}(function(){return this}()||Function("return this")())},"9ffa":function(t,i,e){},a3d2:function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mapswiper"},[e("canvas",{attrs:{id:"mapswiper",width:""+t.width,height:""+t.height}})])},n=[];e("6c7b"),e("ac6a"),e("96cf");function a(t){return function(){var i=this,e=arguments;return new Promise(function(r,n){var a=t.apply(i,e);function o(t,i){try{var e=a[t](i),o=e.value}catch(t){return void n(t)}e.done?r(o):Promise.resolve(o).then(s,c)}function s(t){o("next",t)}function c(t){o("throw",t)}s()})}}var o=e("c665"),s=e("aa9a"),c={name:"mapSwiper",data:function(){return{width:1e3,height:500,combine:null,separate:null}},components:{},props:{},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){var i=t.initClass(),r=document.querySelector("#mapswiper");new i({canvas:r,ctx:r.getContext("2d"),imgs:[e("ba08"),e("c4ba"),e("d2aa"),e("a5be")],radius:1})})},methods:{initClass:function(){var t=function(){function t(i){Object(o["a"])(this,t),this.canvas=i.canvas,this.ctx=i.ctx,this.radius=i.radius,this.imgs=i.imgs,this.imgList=[],this.index=0,this.dots=[],this.initz=300,this.init()}return Object(s["a"])(t,[{key:"init",value:function(){this.canvas.width>500||this.canvas.height>300?this.radius>=4?this.radius=this.radius:this.radius=4:this.radius>=2?this.radius=this.radius:this.radius=2,this.loadImg()}},{key:"loadImg",value:function(){var t=a(regeneratorRuntime.mark(function t(){var i,e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=this.imgs.map(function(t){return new Promise(function(i){var r=new Image;r.src=t,r.onload=function(){e.imgList.push(r),console.log(r.width,r.height),i()}})}),t.prev=1,t.next=4,Promise.all(i);case 4:this.createPic(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"createPic",value:function(){console.log("imgs init success!"),this.dots=[],this.drawPic(),this.toParticle(),this.combineAnimate(),this.index===this.imgs.length-1?this.index=0:this.index++}},{key:"drawPic",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.imgList[this.index];this.ctx.drawImage(t,this.canvas.width/2-t.width/2,0)}},{key:"toParticle",value:function(){for(var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),i=t.data,e=0;e<t.width;e+=2*this.radius)for(var r=0;r<t.height;r+=2*this.radius){var n=4*(e+r*this.canvas.width);if(0!==i[n+3]&&255!==i[n]&&255!==i[n+1]&&255!==i[n+2]){var a={x:e,y:r,z:0,r:i[n],g:i[n+1],b:i[n+2],a:1,ix:Math.random()*this.canvas.width,iy:Math.random()*this.canvas.height,iz:Math.random()*this.initz*2-this.initz,ir:255,ig:255,ib:255,ia:0,tx:Math.random()*this.canvas.width,ty:Math.random()*this.canvas.height,tz:Math.random()*this.initz*2-this.initz,tr:255,tg:255,tb:255,ta:0};this.dots.push(a)}}}},{key:"drowDot",value:function(t){var i=this.initz/(this.initz+t.iz);this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle="rgba(".concat(Math.floor(t.ir),", ").concat(Math.floor(t.ig),", ").concat(Math.floor(t.ib),", ").concat(t.ia,")"),this.ctx.arc(this.canvas.width/2+(t.ix-this.canvas.width/2)*i,this.canvas.height/2+(t.iy-this.canvas.height/2)*i,this.radius*i,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"combineAnimate",value:function(){var t=this,i=!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.dots.map(function(e){return Math.abs(e.ix-e.x)<.1&&Math.abs(e.iy-e.y)<.1&&Math.abs(e.iz-e.z)<.1?(e.ix=e.x,e.iy=e.y,e.iz=e.z,e.ir=e.r,e.ig=e.g,e.ib=e.b,e.ia=e.a,i=!0):(e.ix+=.07*(e.x-e.ix),e.iy+=.07*(e.y-e.iy),e.iz+=.07*(e.z-e.iz),e.ir+=.3*(e.r-e.ir),e.ig+=.3*(e.g-e.ig),e.ib+=.3*(e.b-e.ib),e.ia+=.1*(e.a-e.ia),i=!1),t.drowDot(e)}),i?setTimeout(function(){return t.separateAnimate()},1500):this.combine=requestAnimationFrame(function(){return t.combineAnimate()})}},{key:"separateAnimate",value:function(){var t=this,i=!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.dots.map(function(e){return Math.abs(e.ix-e.tx)<.1&&Math.abs(e.iy-e.ty)<.1&&Math.abs(e.iz-e.tz)<.1?(e.ix=e.tx,e.iy=e.ty,e.iz=e.tz,e.ir=e.tr,e.ig=e.tg,e.ib=e.tb,e.ia=e.ta,i=!0):(e.ix+=.07*(e.tx-e.ix),e.iy+=.07*(e.ty-e.iy),e.iz+=.07*(e.tz-e.iz),e.ir+=.02*(e.tr-e.ir),e.ig+=.02*(e.tg-e.ig),e.ib+=.02*(e.tb-e.ib),e.ia+=.03*(e.ta-e.ia),i=!1),t.drowDot(e)}),i?setTimeout(function(){return t.createPic()},100):this.separate=requestAnimationFrame(function(){return t.separateAnimate()})}}]),t}();return t}},computed:{},destroyed:function(){cancelAnimationFrame(this.combine),cancelAnimationFrame(this.separate)}},h=c,u=(e("46fe"),e("2877")),f=Object(u["a"])(h,r,n,!1,null,"53b0b4c0",null);f.options.__file="mapswiper.vue";i["default"]=f.exports},a5be:function(t,i,e){t.exports=e.p+"img/vinyltocat.db69ef18.png"},aa9a:function(t,i,e){"use strict";function r(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}e.d(i,"a",function(){return n})},ac6a:function(t,i,e){for(var r=e("cadf"),n=e("0d58"),a=e("2aba"),o=e("7726"),s=e("32e9"),c=e("84f2"),h=e("2b4c"),u=h("iterator"),f=h("toStringTag"),l=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(d),v=0;v<p.length;v++){var g,m=p[v],y=d[m],w=o[m],x=w&&w.prototype;if(x&&(x[u]||s(x,u,l),x[f]||s(x,f,m),c[m]=l,y))for(g in r)x[g]||a(x,g,r[g],!0)}},ba08:function(t,i,e){t.exports=e.p+"img/minertocat.4b439472.png"},c4ba:function(t,i,e){t.exports=e.p+"img/inflatocat.cbce582a.png"},c665:function(t,i,e){"use strict";function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.d(i,"a",function(){return r})},d2aa:function(t,i,e){t.exports=e.p+"img/surftocat.c7bc670d.png"}}]);